/* =============================================
   LO SQUALO - TENERIFE EXPERIENCE
   Palette Colori Ufficiale + Layout 6 Categorie
   ============================================= */

/* ===== VARIABILI CSS ===== */
:root {
    /* Fondo */
    --bg-main: #F6F4EF;

    /* Colore Asse - Blu Lo Squalo */
    --blu-squalo: #2F6F8F;

    /* Testi */
    --text-primary: #2E2E2E;
    --text-secondary: #6B6B6B;

    /* EVENTI - Giallo/Oro */
    --eventi-main: #D4A93C;
    --eventi-tips: #E2C36A;
    --eventi-showcases: #C9962E;
    --eventi-servizi: #B88A3A;

    /* ALLOGGIO - Rosa */
    --alloggio-main: #E6BFC7;
    --alloggio-surfhouse: #E1C6B8;
    --alloggio-ostello: #EAD2D8;
    --alloggio-villa: #D9AEB7;
    --alloggio-rurale: #CFA9A1;
    --alloggio-glamping: #E8C4AE;

    /* ESCURSIONI - Verde acqua */
    --escursioni-main: #4F8C8C;
    --escursioni-teide: #6F8E7C;
    --escursioni-oceano: #3F7F9E;
    --escursioni-sky: #7FA9C4;
    --escursioni-food: #8FAF9A;

    /* SURFING - Blu oceano */
    --surfing-main: #5FA6C6;
    --surfing-callemexico: #4E9BB8;
    --surfing-spots: #6FB6D6;
    --surfing-elmedano: #3F8FB0;
    --surfing-surfbar: #2F6F8F;
    --surfing-surfhouse: #7FBEDB;
    --surfing-camp: #6AAED6;

    /* AGENCY - Blu scuro */
    --agency-main: #3E5C6E;
    --agency-start: #5A7484;
    --agency-artists: #2F4E5F;
    --agency-smm: #4F6F80;

    /* ALESSANDRO */
    --alessandro-main: #6B8796;

    /* Linee */
    --line-color: #c8c4b8;
}

/* ===== RESET E BASE ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg-main);
    min-height: 100vh;
    overflow-x: hidden;
    color: var(--text-primary);
}

.container {
    width: 100%;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
}

/* ===== HEADER ===== */
header {
    text-align: center;
    padding: 20px;
    position: relative;
    z-index: 100;
}

.logo {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--blu-squalo);
    letter-spacing: 3px;
}

.tagline {
    display: block;
    font-size: 0.75rem;
    color: var(--text-secondary);
    letter-spacing: 2px;
    margin-top: 2px;
}

/* ===== MIND MAP CONTAINER ===== */
.mind-map {
    flex: 1;
    position: relative;
    width: 100%;
    height: 80vh;
    min-height: 750px;
}

/* ===== SVG LINEE ===== */
.connections {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
}

.line {
    stroke: var(--line-color);
    stroke-width: 2;
    fill: none;
    opacity: 0;
    transition: opacity 0.5s ease;
}

.line.main-line {
    stroke: var(--blu-squalo);
    stroke-width: 2.5;
    opacity: 0.6;
}

.line.sub-line {
    stroke: var(--line-color);
    stroke-width: 1.8;
}

.line.visible {
    opacity: 1;
}

/* ===== NODO CENTRALE - TENERIFE ===== */
.center-node {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    z-index: 10;
    cursor: pointer;
    text-align: center;
}

.tenerife-img {
    width: 140px;
    height: auto;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 10px 30px rgba(47, 111, 143, 0.3));
}

.center-node:hover .tenerife-img {
    transform: scale(1.08);
    filter: drop-shadow(0 15px 40px rgba(47, 111, 143, 0.4));
}

.center-text {
    display: block;
    margin-top: 10px;
    color: var(--blu-squalo);
    font-size: 0.85rem;
    font-weight: 600;
    text-align: center;
    line-height: 1.3;
    letter-spacing: 1px;
}

/* Animazione floating */
.mind-map[data-state="initial"] .center-node {
    animation: float 4s ease-in-out infinite;
}

@keyframes float {
    0%, 100% { transform: translate(-50%, -50%) translateY(0); }
    50% { transform: translate(-50%, -50%) translateY(-12px); }
}

/* Hint per cliccare */
.click-hint {
    display: block;
    margin-top: 15px;
    font-size: 0.75rem;
    color: var(--text-secondary);
    opacity: 0.8;
    animation: pulse-hint 2s ease-in-out infinite;
}

@keyframes pulse-hint {
    0%, 100% { opacity: 0.4; }
    50% { opacity: 1; }
}

.mind-map:not([data-state="initial"]) .click-hint {
    opacity: 0;
    pointer-events: none;
}

/* ===== NODI CONTAINER ===== */
.primary-nodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 5;
}

/* ===== STILE BASE NODI ===== */
.node {
    position: absolute;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    text-decoration: none;
    cursor: pointer;
    opacity: 0;
    transform: scale(0.5);
    transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    pointer-events: none;
    box-shadow:
        0 8px 25px rgba(0, 0, 0, 0.12),
        inset 0 -2px 8px rgba(0, 0, 0, 0.08),
        inset 0 2px 8px rgba(255, 255, 255, 0.15);
}

.node span {
    text-align: center;
    line-height: 1.2;
    font-weight: 500;
    color: inherit;
}

/* Nodi visibili */
.mind-map[data-state="categories"] .primary-nodes .node,
.mind-map[data-state="subcategories"] .primary-nodes .node {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

/* Hover generico */
.node:hover {
    transform: scale(1.12) !important;
    box-shadow:
        0 15px 40px rgba(0, 0, 0, 0.18),
        inset 0 -2px 8px rgba(0, 0, 0, 0.08),
        inset 0 2px 8px rgba(255, 255, 255, 0.2);
    z-index: 20;
}

/* ===== NODI PRIMARI ===== */
.node-primary {
    width: 100px;
    height: 100px;
    font-size: 0.75rem;
}

.node-primary span {
    font-weight: 600;
    padding: 8px;
}

/* Indicatore espansione */
.node-primary::after {
    content: '+';
    position: absolute;
    bottom: 6px;
    right: 10px;
    font-size: 0.9rem;
    font-weight: 400;
    opacity: 0.5;
}

.node-primary.expanded::after {
    content: '−';
}

/* ===== NODI SECONDARI ===== */
.node-secondary {
    width: 75px;
    height: 75px;
    font-size: 0.65rem;
}

/* ===== SOTTO-NODI CONTAINER ===== */
.sub-nodes {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 4;
}

.sub-nodes .node {
    opacity: 0;
    transform: scale(0.3);
    pointer-events: none;
}

.sub-nodes.visible {
    pointer-events: auto;
}

.sub-nodes.visible .node {
    opacity: 1;
    transform: scale(1);
    pointer-events: auto;
}

/* Delay a cascata */
.sub-nodes.visible .node:nth-child(1) { transition-delay: 0s; }
.sub-nodes.visible .node:nth-child(2) { transition-delay: 0.05s; }
.sub-nodes.visible .node:nth-child(3) { transition-delay: 0.1s; }
.sub-nodes.visible .node:nth-child(4) { transition-delay: 0.15s; }
.sub-nodes.visible .node:nth-child(5) { transition-delay: 0.2s; }
.sub-nodes.visible .node:nth-child(6) { transition-delay: 0.25s; }

/* Delay nodi primari */
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(1) { transition-delay: 0s; }
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(2) { transition-delay: 0.07s; }
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(3) { transition-delay: 0.14s; }
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(4) { transition-delay: 0.21s; }
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(5) { transition-delay: 0.28s; }
.mind-map[data-state="categories"] .primary-nodes .node:nth-child(6) { transition-delay: 0.35s; }

/* =============================================
   POSIZIONI E COLORI - 6 CATEGORIE PRINCIPALI
   Disposizione a esagono attorno al centro
   ============================================= */

/* EVENTI - Posizione: alto sinistra */
.eventi {
    background: linear-gradient(145deg, var(--eventi-main), #c49a30);
    color: var(--text-primary);
    top: 25%;
    left: 18%;
}

.eventi:hover {
    box-shadow: 0 0 35px rgba(212, 169, 60, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* ALLOGGIO - Posizione: alto destra */
.alloggio {
    background: linear-gradient(145deg, var(--alloggio-main), #d4a8b2);
    color: var(--text-primary);
    top: 25%;
    left: 75%;
}

.alloggio:hover {
    box-shadow: 0 0 35px rgba(230, 191, 199, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* ESCURSIONI - Posizione: sinistra centro */
.escursioni {
    background: linear-gradient(145deg, var(--escursioni-main), #3f7a7a);
    color: white;
    top: 50%;
    left: 10%;
}

.escursioni:hover {
    box-shadow: 0 0 35px rgba(79, 140, 140, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* SURFING - Posizione: destra centro */
.surfing {
    background: linear-gradient(145deg, var(--surfing-main), #4a92b2);
    color: white;
    top: 50%;
    left: 83%;
}

.surfing:hover {
    box-shadow: 0 0 35px rgba(95, 166, 198, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* AGENCY - Posizione: basso sinistra */
.agency {
    background: linear-gradient(145deg, var(--agency-main), #2e4a5a);
    color: white;
    top: 75%;
    left: 20%;
}

.agency:hover {
    box-shadow: 0 0 35px rgba(62, 92, 110, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* ALESSANDRO - Posizione: basso destra */
.alessandro {
    background: linear-gradient(145deg, var(--alessandro-main), #5a7585);
    color: white;
    top: 75%;
    left: 73%;
}

.alessandro:hover {
    box-shadow: 0 0 35px rgba(107, 135, 150, 0.5), 0 12px 30px rgba(0,0,0,0.12);
}

/* =============================================
   SOTTO-CATEGORIE EVENTI
   ============================================= */
.showcases {
    background: linear-gradient(145deg, var(--eventi-showcases), #b88520);
    color: var(--text-primary);
    top: 8%;
    left: 8%;
}

.consigliati {
    background: linear-gradient(145deg, var(--eventi-tips), #d4b358);
    color: var(--text-primary);
    top: 8%;
    left: 22%;
}

.movida {
    background: linear-gradient(145deg, var(--eventi-main), #c49a30);
    color: var(--text-primary);
    top: 22%;
    left: 3%;
}

.servizi-eventi {
    background: linear-gradient(145deg, var(--eventi-servizi), #a87a2a);
    color: white;
    top: 38%;
    left: 5%;
}

/* =============================================
   SOTTO-CATEGORIE ALLOGGIO
   ============================================= */
.ostello {
    background: linear-gradient(145deg, var(--alloggio-ostello), #dcc0c8);
    color: var(--text-primary);
    top: 8%;
    left: 70%;
}

.villa-finca {
    background: linear-gradient(145deg, var(--alloggio-villa), #c99ea8);
    color: var(--text-primary);
    top: 8%;
    left: 85%;
}

.surfhouse-alloggio {
    background: linear-gradient(145deg, var(--alloggio-surfhouse), #d1b6a8);
    color: var(--text-primary);
    top: 22%;
    left: 90%;
}

.rurale {
    background: linear-gradient(145deg, var(--alloggio-rurale), #bf9991);
    color: var(--text-primary);
    top: 38%;
    left: 88%;
}

.apartamento {
    background: linear-gradient(145deg, var(--alloggio-glamping), #d8b49e);
    color: var(--text-primary);
    top: 35%;
    left: 73%;
}

/* =============================================
   SOTTO-CATEGORIE ESCURSIONI
   ============================================= */
.teide {
    background: linear-gradient(145deg, var(--escursioni-teide), #5f7e6c);
    color: white;
    top: 38%;
    left: 2%;
}

.oceano {
    background: linear-gradient(145deg, var(--escursioni-oceano), #2f6f8e);
    color: white;
    top: 52%;
    left: 2%;
}

.sky {
    background: linear-gradient(145deg, var(--escursioni-sky), #6f99b4);
    color: var(--text-primary);
    top: 65%;
    left: 3%;
}

.sport {
    background: linear-gradient(145deg, var(--escursioni-main), #3f7a7a);
    color: white;
    top: 62%;
    left: 18%;
}

.private-escursioni {
    background: linear-gradient(145deg, #5a9a9a, #4a8a8a);
    color: white;
    top: 48%;
    left: 20%;
}

.fooddrink-escursioni {
    background: linear-gradient(145deg, var(--escursioni-food), #7f9f8a);
    color: var(--text-primary);
    top: 35%;
    left: 18%;
}

/* =============================================
   SOTTO-CATEGORIE SURFING
   ============================================= */
.surfbar {
    background: linear-gradient(145deg, var(--surfing-surfbar), #1f5f7f);
    color: white;
    top: 35%;
    left: 75%;
}

.surfhouse {
    background: linear-gradient(145deg, var(--surfing-surfhouse), #6faecb);
    color: var(--text-primary);
    top: 38%;
    left: 92%;
}

.elmedano {
    background: linear-gradient(145deg, var(--surfing-elmedano), #2f7fa0);
    color: white;
    top: 52%;
    left: 94%;
}

.surfspots {
    background: linear-gradient(145deg, var(--surfing-spots), #5fa6c6);
    color: var(--text-primary);
    top: 65%;
    left: 92%;
}

.callemexico {
    background: linear-gradient(145deg, var(--surfing-callemexico), #3e8ba8);
    color: white;
    top: 62%;
    left: 78%;
}

.school {
    background: linear-gradient(145deg, var(--surfing-camp), #5a9ec6);
    color: var(--text-primary);
    top: 48%;
    left: 74%;
}

/* =============================================
   SOTTO-CATEGORIE AGENCY
   ============================================= */
.smm {
    background: linear-gradient(145deg, var(--agency-smm), #3f5f70);
    color: white;
    top: 65%;
    left: 8%;
}

.grafic {
    background: linear-gradient(145deg, var(--agency-start), #4a6474);
    color: white;
    top: 78%;
    left: 5%;
}

.artists-agency {
    background: linear-gradient(145deg, var(--agency-artists), #1f3e4f);
    color: white;
    top: 88%;
    left: 12%;
}

.start {
    background: linear-gradient(145deg, var(--agency-main), #2e4a5a);
    color: white;
    top: 88%;
    left: 28%;
}

/* =============================================
   SOTTO-CATEGORIE ALESSANDRO
   ============================================= */
.chisono {
    background: linear-gradient(145deg, var(--alessandro-main), #5a7585);
    color: white;
    top: 65%;
    left: 85%;
}

.perche {
    background: linear-gradient(145deg, #7b97a6, #6a8695);
    color: white;
    top: 78%;
    left: 88%;
}

.esperienza {
    background: linear-gradient(145deg, #8ba7b6, #7a96a5);
    color: var(--text-primary);
    top: 88%;
    left: 82%;
}

.ruolo {
    background: linear-gradient(145deg, #7b97a6, #6a8695);
    color: white;
    top: 88%;
    left: 68%;
}

.highlights {
    background: linear-gradient(145deg, var(--alessandro-main), #5a7585);
    color: white;
    top: 78%;
    left: 62%;
}

/* ===== STATI ESPANSI ===== */
.node-primary.expanded {
    transform: scale(1.1) !important;
    box-shadow: 0 0 45px rgba(0, 0, 0, 0.2), 0 18px 35px rgba(0,0,0,0.12);
    z-index: 15;
}

/* Dimming altri nodi quando uno è espanso */
.mind-map[data-state="subcategories"] .node-primary:not(.expanded) {
    opacity: 0.3;
    filter: grayscale(30%);
    transform: scale(0.85) !important;
}

.mind-map[data-state="subcategories"] .node-primary:not(.expanded):hover {
    opacity: 0.65;
    filter: grayscale(0%);
    transform: scale(0.95) !important;
}

/* ===== PULSANTE INDIETRO ===== */
.back-btn {
    position: absolute;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    padding: 12px 28px;
    background: white;
    border: 2px solid #ddd;
    border-radius: 30px;
    font-family: 'Poppins', sans-serif;
    font-size: 0.85rem;
    font-weight: 500;
    color: var(--text-primary);
    cursor: pointer;
    opacity: 0;
    pointer-events: none;
    transition: all 0.3s ease;
    z-index: 100;
    box-shadow: 0 5px 20px rgba(0,0,0,0.08);
}

.back-btn:hover {
    background: var(--blu-squalo);
    border-color: var(--blu-squalo);
    color: white;
    transform: translateX(-50%) scale(1.05);
    box-shadow: 0 10px 30px rgba(47, 111, 143, 0.3);
}

.mind-map[data-state="categories"] .back-btn,
.mind-map[data-state="subcategories"] .back-btn {
    opacity: 1;
    pointer-events: auto;
}

/* ===== FOOTER ===== */
footer {
    text-align: center;
    padding: 20px;
    color: var(--text-secondary);
    font-size: 0.75rem;
}

/* =============================================
   RESPONSIVE - DESKTOP
   ============================================= */
@media (max-width: 1400px) {
    .mind-map {
        transform: scale(0.9);
        transform-origin: center center;
    }
}

@media (max-width: 1200px) {
    .mind-map {
        transform: scale(0.8);
    }
}

@media (max-width: 992px) {
    .mind-map {
        transform: scale(0.65);
    }
}

/* =============================================
   RESPONSIVE - MOBILE (< 768px)
   ============================================= */
@media (max-width: 768px) {
    .mind-map {
        display: none;
    }

    .container {
        padding: 15px;
    }

    header {
        padding: 15px;
    }

    .logo {
        font-size: 1.3rem;
    }

    /* ===== MOBILE MINI-MAP ===== */
    .mobile-map {
        display: block;
        position: relative;
        width: 100%;
        min-height: 480px;
        padding: 20px 10px;
        touch-action: manipulation;
    }

    .mobile-map .center-node-mobile {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-align: center;
        cursor: pointer;
        z-index: 10;
        transition: all 0.4s ease;
    }

    .mobile-map .tenerife-img-mobile {
        width: 80px;
        height: auto;
        filter: drop-shadow(0 5px 15px rgba(47, 111, 143, 0.25));
        transition: transform 0.3s ease;
    }

    .mobile-map .center-text-mobile {
        display: block;
        margin-top: 8px;
        color: var(--blu-squalo);
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 1px;
    }

    .mobile-map .click-hint-mobile {
        display: block;
        margin-top: 8px;
        font-size: 0.65rem;
        color: var(--text-secondary);
        animation: pulse-hint 2s ease-in-out infinite;
    }

    .mobile-map[data-state="categories"] .click-hint-mobile {
        display: none;
    }

    /* Mobile primary nodes - 6 nodi in cerchio */
    .mobile-node {
        position: absolute;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        cursor: pointer;
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.3);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        pointer-events: none;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
        -webkit-tap-highlight-color: transparent;
    }

    .mobile-node span {
        text-align: center;
        line-height: 1.1;
        font-weight: 500;
        font-size: 0.5rem;
        padding: 4px;
    }

    .mobile-node-primary {
        width: 68px;
        height: 68px;
    }

    .mobile-node-primary span {
        font-size: 0.55rem;
        font-weight: 600;
    }

    /* Show primary nodes */
    .mobile-map[data-state="categories"] .mobile-node-primary {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
        pointer-events: auto;
    }

    /* Cascade animation */
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(1) { transition-delay: 0s; }
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(2) { transition-delay: 0.06s; }
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(3) { transition-delay: 0.12s; }
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(4) { transition-delay: 0.18s; }
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(5) { transition-delay: 0.24s; }
    .mobile-map[data-state="categories"] .mobile-node-primary:nth-child(6) { transition-delay: 0.3s; }

    /* Mobile node colors - 6 categorie */
    .mobile-eventi {
        background: linear-gradient(145deg, var(--eventi-main), #c49a30);
        color: var(--text-primary);
    }
    .mobile-alloggio {
        background: linear-gradient(145deg, var(--alloggio-main), #d4a8b2);
        color: var(--text-primary);
    }
    .mobile-escursioni {
        background: linear-gradient(145deg, var(--escursioni-main), #3f7a7a);
        color: white;
    }
    .mobile-surfing {
        background: linear-gradient(145deg, var(--surfing-main), #4a92b2);
        color: white;
    }
    .mobile-agency {
        background: linear-gradient(145deg, var(--agency-main), #2e4a5a);
        color: white;
    }
    .mobile-alessandro {
        background: linear-gradient(145deg, var(--alessandro-main), #5a7585);
        color: white;
    }

    /* Mobile SVG lines */
    .mobile-svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
    }

    .mobile-line {
        stroke: var(--line-color);
        stroke-width: 1.5;
        fill: none;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .mobile-line.visible {
        opacity: 0.7;
    }

    /* Mobile back button */
    .mobile-back-btn {
        position: absolute;
        bottom: 10px;
        left: 50%;
        transform: translateX(-50%);
        padding: 10px 22px;
        background: white;
        border: 2px solid #ddd;
        border-radius: 25px;
        font-family: 'Poppins', sans-serif;
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--text-primary);
        cursor: pointer;
        opacity: 0;
        pointer-events: none;
        transition: all 0.3s ease;
        z-index: 100;
        box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        -webkit-tap-highlight-color: transparent;
    }

    .mobile-map[data-state="categories"] .mobile-back-btn {
        opacity: 1;
        pointer-events: auto;
    }

    .mobile-back-btn:active {
        transform: translateX(-50%) scale(0.95);
        background: var(--blu-squalo);
        color: white;
    }

    /* ===== RADIAL POPUP ===== */
    .radial-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.75);
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        backdrop-filter: blur(6px);
        -webkit-backdrop-filter: blur(6px);
    }

    .radial-overlay.visible {
        opacity: 1;
        visibility: visible;
    }

    .radial-popup {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 320px;
        height: 320px;
    }

    .radial-center {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 80px;
        height: 80px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
        z-index: 10;
    }

    .radial-center span {
        font-size: 0.65rem;
        font-weight: 600;
        text-align: center;
        line-height: 1.2;
    }

    .radial-node {
        position: absolute;
        width: 72px;
        height: 72px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        text-decoration: none;
        cursor: pointer;
        box-shadow: 0 4px 18px rgba(0, 0, 0, 0.22);
        opacity: 0;
        transform: translate(-50%, -50%) scale(0.3);
        transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        -webkit-tap-highlight-color: transparent;
    }

    .radial-node span {
        font-size: 0.6rem;
        font-weight: 500;
        text-align: center;
        line-height: 1.15;
        padding: 5px;
    }

    .radial-overlay.visible .radial-node {
        opacity: 1;
        transform: translate(-50%, -50%) scale(1);
    }

    .radial-overlay.visible .radial-node:nth-child(2) { transition-delay: 0.04s; }
    .radial-overlay.visible .radial-node:nth-child(3) { transition-delay: 0.08s; }
    .radial-overlay.visible .radial-node:nth-child(4) { transition-delay: 0.12s; }
    .radial-overlay.visible .radial-node:nth-child(5) { transition-delay: 0.16s; }
    .radial-overlay.visible .radial-node:nth-child(6) { transition-delay: 0.2s; }
    .radial-overlay.visible .radial-node:nth-child(7) { transition-delay: 0.24s; }

    .radial-node:active {
        transform: translate(-50%, -50%) scale(0.9) !important;
    }

    .radial-close {
        position: absolute;
        bottom: -55px;
        left: 50%;
        transform: translateX(-50%);
        padding: 11px 28px;
        background: white;
        border: none;
        border-radius: 25px;
        font-family: 'Poppins', sans-serif;
        font-size: 0.8rem;
        font-weight: 500;
        color: var(--text-primary);
        cursor: pointer;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.18);
        -webkit-tap-highlight-color: transparent;
    }

    .radial-close:active {
        transform: translateX(-50%) scale(0.95);
        background: #f0f0f0;
    }

    /* ===== RADIAL NODE COLORS ===== */
    /* EVENTI */
    .radial-eventi { background: linear-gradient(145deg, var(--eventi-main), #c49a30); color: var(--text-primary); }
    .radial-showcases { background: linear-gradient(145deg, var(--eventi-showcases), #b88520); color: var(--text-primary); }
    .radial-consigliati { background: linear-gradient(145deg, var(--eventi-tips), #d4b358); color: var(--text-primary); }
    .radial-movida { background: linear-gradient(145deg, var(--eventi-main), #c49a30); color: var(--text-primary); }
    .radial-servizi { background: linear-gradient(145deg, var(--eventi-servizi), #a87a2a); color: white; }

    /* ALLOGGIO */
    .radial-alloggio { background: linear-gradient(145deg, var(--alloggio-main), #d4a8b2); color: var(--text-primary); }
    .radial-ostello { background: linear-gradient(145deg, var(--alloggio-ostello), #dcc0c8); color: var(--text-primary); }
    .radial-villa { background: linear-gradient(145deg, var(--alloggio-villa), #c99ea8); color: var(--text-primary); }
    .radial-surfhouse-alloggio { background: linear-gradient(145deg, var(--alloggio-surfhouse), #d1b6a8); color: var(--text-primary); }
    .radial-rurale { background: linear-gradient(145deg, var(--alloggio-rurale), #bf9991); color: var(--text-primary); }
    .radial-apartamento { background: linear-gradient(145deg, var(--alloggio-glamping), #d8b49e); color: var(--text-primary); }

    /* ESCURSIONI */
    .radial-escursioni { background: linear-gradient(145deg, var(--escursioni-main), #3f7a7a); color: white; }
    .radial-teide { background: linear-gradient(145deg, var(--escursioni-teide), #5f7e6c); color: white; }
    .radial-oceano { background: linear-gradient(145deg, var(--escursioni-oceano), #2f6f8e); color: white; }
    .radial-sky { background: linear-gradient(145deg, var(--escursioni-sky), #6f99b4); color: var(--text-primary); }
    .radial-sport { background: linear-gradient(145deg, var(--escursioni-main), #3f7a7a); color: white; }
    .radial-private-escursioni { background: linear-gradient(145deg, #5a9a9a, #4a8a8a); color: white; }
    .radial-fooddrink { background: linear-gradient(145deg, var(--escursioni-food), #7f9f8a); color: var(--text-primary); }

    /* SURFING */
    .radial-surfing { background: linear-gradient(145deg, var(--surfing-main), #4a92b2); color: white; }
    .radial-surfbar { background: linear-gradient(145deg, var(--surfing-surfbar), #1f5f7f); color: white; }
    .radial-surfhouse { background: linear-gradient(145deg, var(--surfing-surfhouse), #6faecb); color: var(--text-primary); }
    .radial-elmedano { background: linear-gradient(145deg, var(--surfing-elmedano), #2f7fa0); color: white; }
    .radial-surfspots { background: linear-gradient(145deg, var(--surfing-spots), #5fa6c6); color: var(--text-primary); }
    .radial-callemexico { background: linear-gradient(145deg, var(--surfing-callemexico), #3e8ba8); color: white; }
    .radial-school { background: linear-gradient(145deg, var(--surfing-camp), #5a9ec6); color: var(--text-primary); }

    /* AGENCY */
    .radial-agency { background: linear-gradient(145deg, var(--agency-main), #2e4a5a); color: white; }
    .radial-smm { background: linear-gradient(145deg, var(--agency-smm), #3f5f70); color: white; }
    .radial-grafic { background: linear-gradient(145deg, var(--agency-start), #4a6474); color: white; }
    .radial-artists-agency { background: linear-gradient(145deg, var(--agency-artists), #1f3e4f); color: white; }
    .radial-start { background: linear-gradient(145deg, var(--agency-main), #2e4a5a); color: white; }

    /* ALESSANDRO */
    .radial-alessandro { background: linear-gradient(145deg, var(--alessandro-main), #5a7585); color: white; }
    .radial-chisono { background: linear-gradient(145deg, var(--alessandro-main), #5a7585); color: white; }
    .radial-perche { background: linear-gradient(145deg, #7b97a6, #6a8695); color: white; }
    .radial-esperienza { background: linear-gradient(145deg, #8ba7b6, #7a96a5); color: var(--text-primary); }
    .radial-ruolo { background: linear-gradient(145deg, #7b97a6, #6a8695); color: white; }
    .radial-highlights { background: linear-gradient(145deg, var(--alessandro-main), #5a7585); color: white; }
}

/* ===== SMALL MOBILE (< 480px) ===== */
@media (max-width: 480px) {
    .mobile-map {
        min-height: 420px;
    }

    .mobile-node-primary {
        width: 60px;
        height: 60px;
    }

    .mobile-node-primary span {
        font-size: 0.5rem;
    }

    .mobile-map .tenerife-img-mobile {
        width: 70px;
    }

    .radial-popup {
        width: 290px;
        height: 290px;
    }

    .radial-center {
        width: 70px;
        height: 70px;
    }

    .radial-node {
        width: 62px;
        height: 62px;
    }

    .radial-node span {
        font-size: 0.55rem;
    }
}
